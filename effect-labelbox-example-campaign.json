{"title":"Labelbox DEMO","description":"Upload a file and submit","instructions":"Upload an image task","template":"<!-- Include Label Studio stylesheet -->\n<link href=\"https://unpkg.com/label-studio@1.0.1/build/static/css/main.css\" rel=\"stylesheet\">\n\n<!-- Create the Label Studio container -->\n<div id=\"label-studio\"></div>\n\n<!-- Include the Label Studio library -->\n<script src=\"https://unpkg.com/label-studio@1.0.1/build/static/js/main.js\"></script>\n\n<script src=\"https://cdn.jsdelivr.net/npm/ipfs-http-client/dist/index.min.js\"></script>\n\n<!-- Initialize Label Studio -->\n<script>\n  const ipfs = window.IpfsHttpClient.create({ host: 'ipfs.effect.ai', port: 443, protocol: 'https' })\n  var labelStudio = new LabelStudio('label-studio', {\n    config: `\n<View>\n    <Header value=\"Please draw bounding boxes around each line of text and label it with its contained text.\"/>\n  <Image name=\"image\" value=\"$ocr\" zoom=\"true\" zoomControl=\"true\"/>\n\n  <Rectangle name=\"bbox\" toName=\"image\" strokeWidth=\"3\"/>\n\n  <TextArea name=\"transcription\" toName=\"image\" editable=\"true\" perRegion=\"true\" required=\"true\" maxSubmissions=\"1\" rows=\"5\" placeholder=\"Recognized Text\" displayMode=\"region-list\"/>\n</View>\n    `,\n   \n\n    interfaces: [\n      \"panel\",\n      \"update\",\n      \"submit\",\n      \"controls\",\n      \"side-column\",\n      \"annotations:menu\"\n    ],\n\n    user: {\n      pk: 1,\n      firstName: \"James\",\n      lastName: \"Dean\" \n    },\n\n    task: {\n      annotations: JSON.parse(${annotations|raw}),\n      predictions: [],\n      id: ${id},\n      data: {\n        ocr: \"${image}\"\n      }\n    },\t\n\n      \n    onSubmitAnnotation: function(ann) {\n      alert('Please update existing annotation, instead of creating a new one');\n    },\n    onUpdateAnnotation: async function(LS, ann) {\n\n    },\n    onLabelStudioLoad: function(LS) {\n      var c = LS.annotationStore.addAnnotation({\n        userGenerate: true\n      });\n      LS.annotationStore.selectAnnotation(c.id);\n    }\n  });\n const submitResults = async function () {\n      let LS = labelStudio;\n     // let res = LS.annotationStore.annotations.filter(a => a.id == ann.id)[0].serializeAnnotation();\n      let res = LS.annotationStore.annotations[0].serializeAnnotation();\n      try { \n          const hash = await ipfs.add(JSON.stringify({\"result\": res}));\n          console.log('uploading cid', hash);\n\n          parent.postMessage({'task': 'submit', 'values':  hash.path}, '*');\n        } catch (error) {\n          console.error('Failed to upload to IPFS', error)\n        } \n  };\n</script>\n<button onclick=\"submitResults()\">Submit</button>","image":"","category":"annotations","example_task":{"annotations":"'[{\"project\":5,\"id\":396,\"completed_by\":9,\"unique_id\":\"c5127b8c-2632-4d4f-9165-656f2de9faab\",\"parent_prediction\":null,\"updated_at\":\"2023-05-23T00:12:36.491774Z\",\"task\":1765,\"result_count\":0,\"prediction\":{},\"ground_truth\":false,\"created_at\":\"2023-05-23T00:12:36.491755Z\",\"lead_time\":305.022,\"last_created_by\":null,\"last_action\":null,\"parent_annotation\":null,\"updated_by\":null,\"was_cancelled\":false,\"result\":[{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"5t6QT5oTyp\",\"value\":{\"x\":32.23606004334925,\"y\":22.794143608030044,\"width\":10.766024216151973,\"height\":6.095546077937253,\"rotation\":0},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"rectangle\",\"original_height\":1024,\"from_name\":\"bbox\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"5t6QT5oTyp\",\"value\":{\"x\":32.23606004334925,\"y\":22.794143608030044,\"width\":10.766024216151973,\"height\":6.095546077937253,\"rotation\":0,\"text\":[\"HARRY POTTER\"]},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"textarea\",\"original_height\":1024,\"from_name\":\"transcription\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"oIJ_S91WFS\",\"value\":{\"x\":53.16999601920032,\"y\":27.634724316980215,\"width\":1.3756586498416385,\"height\":1.6135269029833859,\"rotation\":0},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"rectangle\",\"original_height\":1024,\"from_name\":\"bbox\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"oIJ_S91WFS\",\"value\":{\"x\":53.16999601920032,\"y\":27.634724316980215,\"width\":1.3756586498416385,\"height\":1.6135269029833859,\"rotation\":0,\"text\":[\"NOW\"]},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"textarea\",\"original_height\":1024,\"from_name\":\"transcription\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"aSnToW-qVv\",\"value\":{\"x\":52.15320484323041,\"y\":28.800049302468214,\"width\":3.169996019200304,\"height\":1.8824480534806256,\"rotation\":0},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"rectangle\",\"original_height\":1024,\"from_name\":\"bbox\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"aSnToW-qVv\",\"value\":{\"x\":52.15320484323041,\"y\":28.800049302468214,\"width\":3.169996019200304,\"height\":1.8824480534806256,\"rotation\":0,\"text\":[\"MUGGLES\"]},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"textarea\",\"original_height\":1024,\"from_name\":\"transcription\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"of7gT0nvvX\",\"value\":{\"x\":52.33263858016629,\"y\":30.59285697244977,\"width\":2.930751036619148,\"height\":1.165324985488006,\"rotation\":0},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"rectangle\",\"original_height\":1024,\"from_name\":\"bbox\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"of7gT0nvvX\",\"value\":{\"x\":52.33263858016629,\"y\":30.59285697244977,\"width\":2.930751036619148,\"height\":1.165324985488006,\"rotation\":0,\"text\":[\"CAN BECOME\"]},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"textarea\",\"original_height\":1024,\"from_name\":\"transcription\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"faRE4CHEV7\",\"value\":{\"x\":52.033582351939835,\"y\":31.758181957937776,\"width\":3.2896185104908815,\"height\":1.6135269029833932,\"rotation\":0},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"rectangle\",\"original_height\":1024,\"from_name\":\"bbox\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"faRE4CHEV7\",\"value\":{\"x\":52.033582351939835,\"y\":31.758181957937776,\"width\":3.2896185104908815,\"height\":1.6135269029833932,\"rotation\":0,\"text\":[\"INVISIBLE\"]},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"textarea\",\"original_height\":1024,\"from_name\":\"transcription\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"eS_MAjdHgD\",\"value\":{\"x\":24.460598109461703,\"y\":29.96537428795623,\"width\":1.614903632422799,\"height\":5.0198614759483275,\"rotation\":0},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"rectangle\",\"original_height\":1024,\"from_name\":\"bbox\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"eS_MAjdHgD\",\"value\":{\"x\":24.460598109461703,\"y\":29.96537428795623,\"width\":1.614903632422799,\"height\":5.0198614759483275,\"rotation\":0,\"text\":[\"GLORY\"]},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"textarea\",\"original_height\":1024,\"from_name\":\"transcription\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"OKXfvti5s3\",\"value\":{\"x\":15.60853375395897,\"y\":30.951418506446075,\"width\":3.409241001781459,\"height\":1.7928076699815483,\"rotation\":0},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"rectangle\",\"original_height\":1024,\"from_name\":\"bbox\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"OKXfvti5s3\",\"value\":{\"x\":15.60853375395897,\"y\":30.951418506446075,\"width\":3.409241001781459,\"height\":1.7928076699815483,\"rotation\":0,\"text\":[\"FINEST\"]},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"textarea\",\"original_height\":1024,\"from_name\":\"transcription\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"ZeGBye08Nz\",\"value\":{\"x\":15.668344999604258,\"y\":32.47530502593039,\"width\":3.5288634930720373,\"height\":1.8824480534806218,\"rotation\":0},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"rectangle\",\"original_height\":1024,\"from_name\":\"bbox\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"ZeGBye08Nz\",\"value\":{\"x\":15.668344999604258,\"y\":32.47530502593039,\"width\":3.5288634930720373,\"height\":1.8824480534806218,\"rotation\":0,\"text\":[\"FABRIC\"]},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"textarea\",\"original_height\":1024,\"from_name\":\"transcription\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"72xY4iKXXi\",\"value\":{\"x\":16.685136175574165,\"y\":34.447393462910085,\"width\":2.033582351939818,\"height\":2.3306499709760122,\"rotation\":0},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"rectangle\",\"original_height\":1024,\"from_name\":\"bbox\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"72xY4iKXXi\",\"value\":{\"x\":16.685136175574165,\"y\":34.447393462910085,\"width\":2.033582351939818,\"height\":2.3306499709760122,\"rotation\":0,\"text\":[\"&\"]},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"textarea\",\"original_height\":1024,\"from_name\":\"transcription\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"r_-PrmGP76\",\"value\":{\"x\":15.967401227830704,\"y\":36.68840305038702,\"width\":3.5288634930720373,\"height\":1.7928076699815407,\"rotation\":0},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"rectangle\",\"original_height\":1024,\"from_name\":\"bbox\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"r_-PrmGP76\",\"value\":{\"x\":15.967401227830704,\"y\":36.68840305038702,\"width\":3.5288634930720373,\"height\":1.7928076699815407,\"rotation\":0,\"text\":[\"DETAILING\"]},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"textarea\",\"original_height\":1024,\"from_name\":\"transcription\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"4duCFigwNi\",\"value\":{\"x\":23.802674407363533,\"y\":50.04482019174953,\"width\":1.9737711062945271,\"height\":3.5856153399630966,\"rotation\":0},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"rectangle\",\"original_height\":1024,\"from_name\":\"bbox\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"4duCFigwNi\",\"value\":{\"x\":23.802674407363533,\"y\":50.04482019174953,\"width\":1.9737711062945271,\"height\":3.5856153399630966,\"rotation\":0,\"text\":[\"THE\"]},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"textarea\",\"original_height\":1024,\"from_name\":\"transcription\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"79ZUvE1Ift\",\"value\":{\"x\":29.373039622745516,\"y\":61.24294434368157,\"width\":3.746658925490739,\"height\":3.813664191248323,\"rotation\":25.866356794093917},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"rectangle\",\"original_height\":1024,\"from_name\":\"bbox\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"79ZUvE1Ift\",\"value\":{\"x\":29.373039622745516,\"y\":61.24294434368157,\"width\":3.746658925490739,\"height\":3.813664191248323,\"rotation\":25.866356794093917,\"text\":[\"CLOAK\"]},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"textarea\",\"original_height\":1024,\"from_name\":\"transcription\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"SZI0LcdIkY\",\"value\":{\"x\":26.00799735431109,\"y\":53.10491052453047,\"width\":6.949777588446426,\"height\":3.7551714329205557,\"rotation\":59.42077312751121},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"rectangle\",\"original_height\":1024,\"from_name\":\"bbox\"},{\"origin\":\"manual\",\"original_width\":1536,\"id\":\"SZI0LcdIkY\",\"value\":{\"x\":26.00799735431109,\"y\":53.10491052453047,\"width\":6.949777588446426,\"height\":3.7551714329205557,\"rotation\":59.42077312751121,\"text\":[\"INVISIBILITY\"]},\"to_name\":\"image\",\"image_rotation\":0,\"type\":\"textarea\",\"original_height\":1024,\"from_name\":\"transcription\"}]}]'","id":"1","image":"https://ipfs.effect.ai/ipfs/QmX6FcAAfS9SL9KkKhiZumAUeaAyr4HsWp3rHopjzQSSg4"},"version":1,"reward":"2","estimated_time":"10"}